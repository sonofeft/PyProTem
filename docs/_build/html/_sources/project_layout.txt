.. project_layout


Project Layout
==============

.. _Read the docs: http://readthedocs.org/
.. _Sphinx: http://sphinx.pocoo.org/
.. _reStructuredText: http://sphinx.pocoo.org/rest.html

.. _Travis CI: http://docs.travis-ci.com
.. _GitHub: https://github.com/

PyProTem acts as a temporary project to test tox, travis, futurize, etc. using GitHub for source code control.

The PyProTem project layout is shown below::

    PyProTem/
        pyprotem/
            __init__.py
            main.py
        docs/
        tests/
            __init__.py
            test_mycode.py
        LICENSE.txt
        MANIFEST.in
        README.rst
        requirements.txt
        setup.cfg
        setup.py
        tk_nosy.py
        tox.ini


Use PyProTem to test tox usage locally, `Travis CI`_ on GitHub_ on checkin, tk_nosy to watch files locally and alert breakage, operation under both python 2 and 3 and documentation using `Read the docs`_ created by Sphinx_ using reStructuredText_.


Test Discovery
--------------

Because of the layout, the unit tests need to be told the path to the pyprotem/ directory.

Test discovery between nosetests and py.test seemed to be different with Travis CI.  

With nosetests, it was enough to add to the search path at the beginning of the unittest file::

    sys.path.append(os.path.abspath("../"))
    
With py.test it was necessary to add::

    sys.path.append(os.path.abspath("."))
    
So now to be independent of testing software I add both at the beginning::

    import sys, os
    sys.path.append(os.path.abspath("."))
    sys.path.append(os.path.abspath("../"))


